<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<title>Carré Magique</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html, body, .container {
    height: 100%;
}
body {
    background-color: #9AD1F7;
}
.container{
    margin: 2%;
    background-color: #9AD1F7;
}

.moremargin{
    margin: 2%;
}

#board {
    border: 2px;
    padding: 0px;
    margin: 10px;
    border-color: #000000;
    height: 0.9vm;
    width: 0.9vm;
}

#board tr td {
    width: 3.5em;
    height: 3.5em;
    background: #ffffff;
}

#board .hidden {
  opacity: 0.0;
  filter: alpha(opacity=0); /* For IE8 and earlier */
}

#board .shown {
  opacity: 1.0;
  filter: alpha(opacity=100); /* For IE8 and earlier */
}

</style>
<script>
    function switchColor(elt){
        // check if element is not hidden
        if(!elt.classList.contains("hidden")){
            if(elt.classList.contains("white")){
                elt.style.backgroundColor = "#000000";
                elt.classList.remove("white");
                elt.classList.add("black");
            }
            else{
                elt.style.backgroundColor = "#ffffff";
                elt.classList.remove("black");
                elt.classList.add("white");
            }
        }
    }

    function toggleHide(elt){
        console.log(elt);
        if(elt.classList.contains("hidden")){
            elt.classList.remove("hidden");
            elt.classList.add("shown");
        }
        else{
            elt.classList.add("hidden");
            elt.classList.remove("shown");
        }
    }

    function toggleHideLastcandrCandR(){
        var lastCandR = document.getElementsByClassName("lastcandr"); 
        console.log(lastCandR);
        var arrayLength = lastCandR.length;
        for (var i = 0; i < arrayLength; i++) {
            toggleHide(lastCandR[i]);
        }
    }
</script>

</head >
<body>
<div class="container">
    <h1>Le carré magique (voir <a href="https://members.loria.fr/MDuflot/files/med/magie.html" >ici</a>)</h1>
<table id="board">
    <tr>
        <td class="white shown show" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown lastcandr" onclick="switchColor(this)"></td>
    </tr>
    <tr>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown lastcandr" onclick="switchColor(this)"></td>
    </tr>
    <tr>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown lastcandr" onclick="switchColor(this)"></td>
    </tr>
    <tr>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown lastcandr" onclick="switchColor(this)"></td>
    </tr>
    <tr>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown" onclick="switchColor(this)"></td>
        <td class="white shown lastcandr" onclick="switchColor(this)"></td>
    </tr>
    <tr>
        <td class="white shown lastcandr" onclick="switchColor(this)"></td>
        <td class="white shown lastcandr" onclick="switchColor(this)"></td>
        <td class="white shown lastcandr" onclick="switchColor(this)"></td>
        <td class="white shown lastcandr" onclick="switchColor(this)"></td>
        <td class="white shown lastcandr" onclick="switchColor(this)"></td>
        <td class="white shown lastcandr" onclick="switchColor(this)"></td>
    </tr>
</table>

<button onclick="toggleHideLastcandrCandR()">Afficher/Cacher la dernière ligne & colonne</button>
<!--
<div class="moremargin">
    Support de mise en commun pour l'activité pédagogique du carré magique
    (informatique débranchée).
</div>
-->
<div class="license moremargin">
    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
        <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" />
    </a>
    <br />
    This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a> by <a href="http://perso.eleves.ens-rennes.fr/people/remi.piau/" >Rémi Piau</a>.
</div>
</div>
</body>
</html>
